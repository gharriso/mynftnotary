# Runtime 
## Secrets

Create secrets corresponding to .env file in [https://console.cloud.google.com/security/secret-manager/create?project=YourProject]

Make sure there is a service principle pointing at your admin account for each secret

After deployment, make sure that the secrets are associated with the service in the Cloud Run page [https://console.cloud.google.com/run/detail/us-central1/mynftnotary/revisions?project=YourProject]

## Deploy
gcloud config set project YourProject

gcloud run deploy mynftnotary --source=. --region=us-central1 --allow-unauthenticated 

gcloud run services update mynftnotary \
--set-secrets=authHeader=authHeader:latest,ipfsGateway=ipfsGateway:latest,ethApiKey=ethApiKey:latest,polygonApiKey=polygonApiKey:latest,polygonMumbaiKey=polygonMumbaiKey:latest,goerliKey=goerliKey:latest,polyScanKey=polyScanKey:latest,etherScanKey=etherScanKey:latest,defaultNetwork=defaultNetwork:latest,privateKey=privateKey:latest --region=us-central1

## Grant secrets to container

at https://console.cloud.google.com/run/deploy/us-central1/mynftnotary?project=alwaysnft
 # Compiling the smart contract

This project demonstrates a basic Hardhat use case. It comes with a contract generated by [OpenZeppelin Wizard](https://wizard.openzeppelin.com/), a test for that contract, and a script that deploys that contract.

## Installing dependencies

```
npm install
```

## Testing the contract

```
npm test
```

## Deploying the contract

You can target any network from your Hardhat config using:

```
npx hardhat run --network <network-name> scripts/deploy.mjs
npx hardhat verify --network <network-name> contractAddr
// Why doesn't this work on polygon?
```
